{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      books: [],\n      addBookForm: {\n        title: '',\n        author: '',\n        read: []\n      }\n    };\n  },\n  methods: {\n    getBooks() {\n      const path = 'http://localhost:5000/books';\n      axios.get(path).then(res => {\n        this.books = res.data.books;\n      }).catch(error => {\n        // eslint-disable-next-line\n        console.error(error);\n      });\n    },\n    addBook(payload) {\n      const path = 'http://localhost:5000/books';\n      axios.post(path, payload).then(() => {\n        this.getBooks();\n      }).catch(error => {\n        // eslint-disable-next-line\n        console.log(error);\n        this.getBooks();\n      });\n    },\n    initForm() {\n      this.addBookForm.title = '';\n      this.addBookForm.author = '';\n      this.addBookForm.read = [];\n    },\n    onSubmit(evt) {\n      evt.preventDefault();\n      this.$refs.addBookModal.hide();\n      let read = false;\n      if (this.addBookForm.read[0]) read = true;\n      const payload = {\n        title: this.addBookForm.title,\n        author: this.addBookForm.author,\n        read // property shorthand\n      };\n\n      this.addBook(payload);\n      this.initForm();\n    },\n    onReset(evt) {\n      evt.preventDefault();\n      this.$refs.addBookModal.hide();\n      this.initForm();\n    }\n  },\n  created() {\n    this.getBooks();\n  }\n};","map":{"version":3,"mappings":"AA6CA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE;QACXC,KAAK,EAAE,EAAE;QACTC,MAAM,EAAE,EAAE;QACVC,IAAI,EAAE;MACR;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQ,GAAG;MACT,MAAMC,IAAG,GAAI,6BAA4B;MACzCT,KAAI,CACDU,GAAG,CAACD,IAAI,EACRE,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACV,KAAI,GAAIU,GAAG,CAACX,IAAI,CAACC,KAAI;MAC5B,CAAC,EACAW,KAAK,CAAEC,KAAK,IAAK;QAChB;QACAC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB,CAAC;IACL,CAAC;IACDE,OAAO,CAACC,OAAO,EAAE;MACf,MAAMR,IAAG,GAAI,6BAA4B;MACzCT,KAAI,CACDkB,IAAI,CAACT,IAAI,EAAEQ,OAAO,EAClBN,IAAI,CAAC,MAAM;QACV,IAAI,CAACH,QAAQ,EAAC;MAChB,CAAC,EACAK,KAAK,CAAEC,KAAK,IAAK;QAChB;QACAC,OAAO,CAACI,GAAG,CAACL,KAAK;QACjB,IAAI,CAACN,QAAQ,EAAC;MAChB,CAAC;IACL,CAAC;IACDY,QAAQ,GAAG;MACT,IAAI,CAACjB,WAAW,CAACC,KAAI,GAAI,EAAC;MAC1B,IAAI,CAACD,WAAW,CAACE,MAAK,GAAI,EAAC;MAC3B,IAAI,CAACF,WAAW,CAACG,IAAG,GAAI,EAAC;IAC3B,CAAC;IACDe,QAAQ,CAACC,GAAG,EAAE;MACZA,GAAG,CAACC,cAAc,EAAC;MACnB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,IAAI,EAAC;MAC7B,IAAIpB,IAAG,GAAI,KAAI;MACf,IAAI,IAAI,CAACH,WAAW,CAACG,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAG,GAAI,IAAG;MACxC,MAAMW,OAAM,GAAI;QACdb,KAAK,EAAE,IAAI,CAACD,WAAW,CAACC,KAAK;QAC7BC,MAAM,EAAE,IAAI,CAACF,WAAW,CAACE,MAAM;QAC/BC,IAAG,CAAE;MACP;;MACA,IAAI,CAACU,OAAO,CAACC,OAAO;MACpB,IAAI,CAACG,QAAQ,EAAC;IAChB,CAAC;IACDO,OAAO,CAACL,GAAG,EAAE;MACXA,GAAG,CAACC,cAAc,EAAC;MACnB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,IAAI,EAAC;MAC7B,IAAI,CAACN,QAAQ,EAAC;IAChB;EACF,CAAC;EACDQ,OAAO,GAAG;IACR,IAAI,CAACpB,QAAQ,EAAC;EAChB;AACF","names":["axios","data","books","addBookForm","title","author","read","methods","getBooks","path","get","then","res","catch","error","console","addBook","payload","post","log","initForm","onSubmit","evt","preventDefault","$refs","addBookModal","hide","onReset","created"],"sourceRoot":"","sources":["C:\\Users\\Yonsei\\Desktop\\vue4hour\\project\\src\\views\\BookView.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-10\">\r\n        <h1>Books</h1>\r\n        <hr />\r\n        <br /><br />\r\n        <button type=\"button\" class=\"btn btn-success btn-sm\">Add Book</button>\r\n        <br /><br />\r\n        <table class=\"table table-hover\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Title</th>\r\n              <th scope=\"col\">Author</th>\r\n              <th scope=\"col\">Read?</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(book, index) in books\" :key=\"index\">\r\n              <td>{{ book.title }}</td>\r\n              <td>{{ book.author }}</td>\r\n              <td>\r\n                <span v-if=\"book.read\">Yes</span>\r\n                <span v-else>No</span>\r\n              </td>\r\n              <td>\r\n                <div class=\"btn-group\" role=\"group\">\r\n                  <button type=\"button\" class=\"btn btn-warning btn-sm\">\r\n                    Update\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-danger btn-sm\">\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      books: [],\r\n      addBookForm: {\r\n        title: '',\r\n        author: '',\r\n        read: []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getBooks() {\r\n      const path = 'http://localhost:5000/books'\r\n      axios\r\n        .get(path)\r\n        .then((res) => {\r\n          this.books = res.data.books\r\n        })\r\n        .catch((error) => {\r\n          // eslint-disable-next-line\r\n          console.error(error)\r\n        })\r\n    },\r\n    addBook(payload) {\r\n      const path = 'http://localhost:5000/books'\r\n      axios\r\n        .post(path, payload)\r\n        .then(() => {\r\n          this.getBooks()\r\n        })\r\n        .catch((error) => {\r\n          // eslint-disable-next-line\r\n          console.log(error)\r\n          this.getBooks()\r\n        })\r\n    },\r\n    initForm() {\r\n      this.addBookForm.title = ''\r\n      this.addBookForm.author = ''\r\n      this.addBookForm.read = []\r\n    },\r\n    onSubmit(evt) {\r\n      evt.preventDefault()\r\n      this.$refs.addBookModal.hide()\r\n      let read = false\r\n      if (this.addBookForm.read[0]) read = true\r\n      const payload = {\r\n        title: this.addBookForm.title,\r\n        author: this.addBookForm.author,\r\n        read // property shorthand\r\n      }\r\n      this.addBook(payload)\r\n      this.initForm()\r\n    },\r\n    onReset(evt) {\r\n      evt.preventDefault()\r\n      this.$refs.addBookModal.hide()\r\n      this.initForm()\r\n    }\r\n  },\r\n  created() {\r\n    this.getBooks()\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}